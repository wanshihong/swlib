## 14. 服务器事件

框架通过 ServerEventManager 统一管理 Swoole 服务器事件。

### 14.1 事件映射

| Swoole 事件 | 处理器 | 说明 |
|-------------|--------|------|
| start | OnStartEvent | 服务器启动 |
| workerStart | OnWorkerStartEvent | Worker 进程启动 |
| workerStop | OnWorkerStopEvent | Worker 进程停止 |
| request | OnRequestEvent | HTTP 请求 |
| open | OnOpenEvent | WebSocket 连接 |
| message | OnMessageEvent | WebSocket 消息 |
| close | OnCloseEvent | 连接关闭 |
| task | OnTaskEvent | Task 任务 |
| finish | OnFinishEvent | Task 完成 |
| pipeMessage | OnPipeMessageEvent | 管道消息 |
| shutdown | OnShutdownEvent | 服务器关闭 |

### 14.2 事件监听

```php
use Swlib\Event\EventEnum;

EventEnum::ServerStartEvent->addListener(function ($data) {
    Log::info('服务器启动', $data);
});

EventEnum::OnWorkerStartEvent->addListener(function ($data) {
    // Worker 启动时的初始化
});
```
