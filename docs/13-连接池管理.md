## 13. 连接池管理

框架使用连接池提升数据库访问性能。

### 13.1 MySQL 连接池

```php
use Generate\DatabaseConnect;

// 自动使用连接池
$result = DatabaseConnect::call(function ($dbh) {
    return $dbh->query('SELECT * FROM users');
});

// 连接池配置
// .env 配置：
// DB_POOL_NUM=10        # 连接池大小
// DB_HEART=10           # 心跳间隔（秒）
```

### 13.2 Redis 连接池

```php
use Swlib\Connect\PoolRedis;

// 基本用法
$result = PoolRedis::call(function (Redis $redis) {
    return $redis->get('key');
});

// 缓存辅助
PoolRedis::getSet(
    key: 'cache_key',
    call: function () {
        return new UserTable()->selectAll();
    },
    expire: 3600,      // 缓存时间（秒）
    forceRefresh: false // 是否强制刷新
);
```
